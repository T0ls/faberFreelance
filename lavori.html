<!doctype html>
<html lang="it">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Lavori • Fabrizio Arrigo</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" rel="stylesheet" />

		<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/hover.css/2.3.1/css/hover.css"/>

		<link href="https://fonts.googleapis.com/css2?family=Inria+Serif:wght@400;700&display=swap" rel="stylesheet">

		<style>
      @font-face{
        font-family: "Obra Letra";
        src: local("Obra Letra")
             /* , url("/fonts/ObraLetra.woff2") format("woff2"),
                url("/fonts/ObraLetra.woff") format("woff") */;
        font-weight: 400;
        font-style: normal;
        font-display: swap;
      }

      /* Navbar con sfondo pieno per evitare trasparenza */
      .navbar { background-color: #fff; }

      /* LOGO */
      .logo-mark{
        display:inline-flex;
        align-items:flex-end;
        gap:.3rem;
        margin-left:25px;
        /* scala globale del logo: aumenta/diminuisci qui */
        --logo-size: 38px;
        font-size: var(--logo-size);
        color:#000;
      }
      .logo-F{
        font-family: "Inria Serif", serif;
        font-weight: 700;
        /* F alta ~ due righe */
        font-size: 2.5em;
        line-height: .85;
        margin-right:.05rem;
      }
      .logo-stack{
        display:flex;
        flex-direction:column;
        line-height:1;
		margin-left: -5px;
      }
      .logo-line{
        font-family: "Inria Serif", serif;
        font-size:1em;
        line-height:1;
        letter-spacing: .005em; /* micro aggiustamento */
      }
	  .nav-link{
		  font-size: 20px;
	  }

	  .page-hero{padding:3.5rem 0;}
        /* Lavori page: showreel-inspired cards but distinct styling */
        .filters {
          display:flex;
          gap:.5rem;
          justify-content:center;
          margin-bottom:1rem;
          flex-wrap:wrap;
          padding:.25rem 0;
        }
        .tag { font-size:.82rem; padding:.26rem .7rem; border-radius:999px; border:1px solid #eef2f7; background:#fff; white-space:nowrap; flex:0 0 auto; }

        @media (max-width:520px){
          .filters{ justify-content:center; overflow-x:auto; -webkit-overflow-scrolling:touch; padding:0 .5rem; }
          .filters::-webkit-scrollbar{ height:6px; }
          .filters::-webkit-scrollbar-thumb{ background: rgba(0,0,0,0.06); border-radius:3px; }
        }

        /* grid with centered flow like showreel but different column sizes */
        .gallery-wrap{ display:flex; flex-wrap:wrap; justify-content:center; gap:1.25rem; padding:2rem 0; }
        .gallery-wrap .proj{ flex: 0 0 calc(33.333% - 0.833rem); max-width:420px; border-radius:12px; overflow:visible; }
        @media (max-width:991px){ .gallery-wrap .proj{ flex:0 0 calc(50% - 0.625rem);} }
        @media (max-width:767px){ .gallery-wrap .proj{ flex:0 0 100%; max-width:100%; } }

        .proj .thumb{ border-radius:12px; overflow:hidden; position:relative; display:block; }
        .proj img{ width:100%; height:100%; display:block; object-fit:cover; transition: transform .36s cubic-bezier(.2,.9,.3,1); }
        .proj:hover img{ transform: scale(1.04); }

        .overlay-label{ position:absolute; left:12px; bottom:12px; background: rgba(255,255,255,0.92); color:#0f172a; padding:.45rem .6rem; border-radius:10px; font-size:.92rem; display:inline-flex; gap:.5rem; align-items:center; box-shadow: 0 8px 22px rgba(2,6,23,0.06); }
        .overlay-label strong{ font-weight:700; }
        .overlay-cta{ position:absolute; right:12px; top:12px; background:transparent; border:none; }

        .card-body{ padding:.8rem .9rem; }
        .card-title{ font-size:1.05rem; margin-bottom:.25rem; }
        .card-text{ color:#475569; font-size:.92rem; }

        /* subtle entrance */
        .proj{ opacity:0; transform: translateY(10px); transition: opacity .48s ease, transform .48s cubic-bezier(.2,.9,.3,1); }
        .proj.show{ opacity:1; transform:none; }

      </style>
  </head>
  <body>
		<!-- Navbar -->
		<nav class="navbar navbar-expand-md sticky-top shadow-sm bg-body">
			<div class="container">
				<a class="navbar-brand d-flex align-items-center gap-2" href="homepage.html">
					<span class="logo-mark logo-theme-iceNavy">
						<span class="logo-color logo-F">F</span>
						<span class="logo-stack">
							<span class="logo-color logo-line">aber</span>
							<span class="logo-color logo-line">reelance</span>
						</span>
					</span>
				</a>
				<button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#mainNav" aria-controls="mainNav" aria-expanded="false" aria-label="Toggle navigation">
					<span class="navbar-toggler-icon"></span>
				</button>
				<div class="collapse navbar-collapse" id="mainNav">
					<ul class="navbar-nav ms-auto">
						<li class="nav-item hvr-grow"><a class="nav-link" href="about.html">About</a></li>
						<li class="nav-item hvr-grow"><a class="nav-link" href="showreel.html">Showreel</a></li>
						<li class="nav-item hvr-grow"><a class="nav-link" href="lavori.html">Lavori</a></li>
						<li class="nav-item hvr-grow"><a class="nav-link" href="contatti.html">Contatti</a></li>
					</ul>
				</div>
			</div>
		</nav>

    <header class="page-hero text-center bg-light">
      <div class="container">
        <h1 class="display-6">LAVORI</h1>
        <p class="lead">Portfolio — selezione dei progetti recenti. Un racconto visivo per ogni lavoro: immagini, ritmo e scelte di montaggio.</p>
        <div class="filters" aria-hidden="true">
          <button class="btn btn-outline-secondary btn-sm tag" data-filter="all">Tutti</button>
          <button class="btn btn-outline-secondary btn-sm tag" data-filter="commercial">Commercial</button>
          <button class="btn btn-outline-secondary btn-sm tag" data-filter="music">Music</button>
          <button class="btn btn-outline-secondary btn-sm tag" data-filter="short">Short film</button>
          <button class="btn btn-outline-secondary btn-sm tag" data-filter="experimental">Experimental</button>
        </div>
      </div>
    </header>

    <main class="py-5">
      <div class="container">
        <div class="gallery-wrap" id="projectsContainer" aria-hidden="false">
          <!-- project cards -->
          <article class="proj" data-cats="commercial">
            <a class="thumb" href="progetto-pilipu.html">
              <img src="https://picsum.photos/900/600?random=21" alt="PILIPU">
              <div class="overlay-label"><strong>PILIPU</strong><span> • 2024</span></div>
            </a>
            <div class="card-body">
              <div class="card-title">PILIPU</div>
              <p class="card-text">Un cortometraggio che esplora il ritmo del quotidiano e la suddivisione del tempo.</p>
              <a href="progetto-pilipu.html" class="btn btn-sm btn-outline-primary mt-2">Apri progetto</a>
            </div>
          </article>

          <article class="proj" data-cats="music">
            <a class="thumb" href="#">
              <img src="https://picsum.photos/900/600?random=22" alt="Video Music">
              <div class="overlay-label"><strong>Music Video</strong><span> • 2023</span></div>
            </a>
            <div class="card-body">
              <div class="card-title">Music Video</div>
              <p class="card-text">Montaggio serrato e palette cromatica per una track energica.</p>
              <a href="#" class="btn btn-sm btn-outline-primary mt-2">Apri progetto</a>
            </div>
          </article>

          <article class="proj" data-cats="short experimental">
            <a class="thumb" href="#">
              <img src="https://picsum.photos/900/600?random=23" alt="Short">
              <div class="overlay-label"><strong>Short</strong><span> • 2022</span></div>
            </a>
            <div class="card-body">
              <div class="card-title">Short</div>
              <p class="card-text">Sperimentazione visiva e sonica per un corto di ricerca.</p>
              <a href="#" class="btn btn-sm btn-outline-primary mt-2">Apri progetto</a>
            </div>
          </article>

          <article class="proj" data-cats="commercial">
            <a class="thumb" href="#">
              <img src="https://picsum.photos/900/600?random=24" alt="Brand Film">
              <div class="overlay-label"><strong>Brand Film</strong><span> • 2021</span></div>
            </a>
            <div class="card-body">
              <div class="card-title">Brand Film</div>
              <p class="card-text">Racconto emozionale per un marchio, girato in location naturali.</p>
              <a href="#" class="btn btn-sm btn-outline-primary mt-2">Apri progetto</a>
            </div>
          </article>

          <article class="proj" data-cats="experimental">
            <a class="thumb" href="#">
              <img src="https://picsum.photos/900/600?random=25" alt="Experimental">
              <div class="overlay-label"><strong>Experimental</strong><span> • 2020</span></div>
            </a>
            <div class="card-body">
              <div class="card-title">Experimental</div>
              <p class="card-text">Installazione video e loop che esplora texture visive.</p>
              <a href="#" class="btn btn-sm btn-outline-primary mt-2">Apri progetto</a>
            </div>
          </article>

          <div id="noMatches" class="no-matches" style="display:none">Nessun risultato per il filtro selezionato.</div>
        </div>
      </div>
    </main>

    <footer class="py-4 mt-5">
      <div class="container d-flex flex-column flex-sm-row align-items-center justify-content-between gap-3">
        <div class="small">© <span id="year"></span> Fabrizio Arrigo • Tutti i diritti riservati</div>
        <div class="d-flex gap-3 small">
          <a href="https://www.linkedin.com/in/fabrizio-faber-arrigo-a1b77a22b" target="_blank" class="text-decoration-none"><i class="bi bi-linkedin"></i></a>
          <a href="https://www.instagram.com/faber.arrigo" target="_blank" class="text-decoration-none"><i class="bi bi-instagram"></i></a>
        </div>
      </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script>document.getElementById('year').textContent = new Date().getFullYear();</script>

    <!-- load projects data (global) -->
    <script src="data/projects-data.js"></script>

  <script>
  // data-driven client-side filtering for lavori
  window.addEventListener('load', function(){
    const filters = Array.from(document.querySelectorAll('.filters [data-filter]'));
    let projects = Array.from(document.querySelectorAll('.proj'));
    const container = document.getElementById('projectsContainer');
    let active = 'all';

    // if no static projects exist, render from data/projects-data.js (window.PROJECTS)
    if((!projects || !projects.length) && window.PROJECTS && Array.isArray(window.PROJECTS)){
      (window.PROJECTS||[]).forEach((p, i)=>{
        const art = document.createElement('article');
        art.className = 'proj';
        art.dataset.cats = (p.categories || []).join(' ');

        const a = document.createElement('a');
        a.className = 'thumb';
        a.href = p.url || '#';

        const img = document.createElement('img');
        img.src = p.thumb || '';
        img.alt = p.title || '';
        a.appendChild(img);

        const label = document.createElement('div');
        label.className = 'overlay-label';
        label.innerHTML = `<strong>${p.title}</strong><span> • ${p.year || ''}</span>`;
        a.appendChild(label);

        art.appendChild(a);

        const body = document.createElement('div');
        body.className = 'card-body';
        body.innerHTML = `<div class="card-title">${p.title}</div><p class="card-text">${p.description || ''}</p><a class="btn btn-sm btn-outline-primary mt-2" href="${p.url||'#'}">Apri progetto</a>`;
        art.appendChild(body);

        container.insertBefore(art, document.getElementById('noMatches'));
      });
      // re-query projects
      projects = Array.from(document.querySelectorAll('.proj'));
    }

    function apply(f){
      let visible = 0;
      projects.forEach((p, i)=>{
        const cats = (p.dataset.cats||'').toLowerCase().split(' ').map(s=>s.trim()).filter(Boolean);
        const match = (f==='all') || cats.includes(f);
        if(match){
          p.style.display = '';
          setTimeout(()=> p.classList.add('show'), 40 + i*40);
          visible++;
        } else {
          p.classList.remove('show');
          setTimeout(()=> p.style.display = 'none', 320);
        }
      });
      const nm = document.getElementById('noMatches');
      if(nm){ nm.style.display = visible? 'none':'block'; }
    }

    filters.forEach(b=> b.addEventListener('click', ()=>{
      const f = b.dataset.filter;
      if(f === active) active='all'; else active = f;
      filters.forEach(x=> x.classList.remove('btn-primary'));
      if(active!=='all'){ const act = filters.find(x=> x.dataset.filter===active); if(act) act.classList.add('btn-primary'); }
      else{ const all = filters.find(x=> x.dataset.filter==='all'); if(all) all.classList.add('btn-primary'); }
      apply(active);
    }));

    // init
    const allBtn = filters.find(b=> b.dataset.filter==='all'); if(allBtn) allBtn.classList.add('btn-primary');
    apply('all');

    // center filter scroll when overflowing
    function centerFiltersScroll(){
      const f = document.querySelector('.filters'); if(!f) return;
      if(f.scrollWidth > f.clientWidth){ try{ f.scrollLeft = Math.round((f.scrollWidth - f.clientWidth)/2); }catch(e){} }
    }
    centerFiltersScroll(); let _t;
    window.addEventListener('resize', ()=>{ clearTimeout(_t); _t = setTimeout(centerFiltersScroll, 140); });
  });
  </script>
  </body>
</html>
